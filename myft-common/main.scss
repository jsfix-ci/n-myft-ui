@import 'o-buttons/main';
@import '../components/follow-button/main';

@mixin buttonWithIcon($iconSpace, $iconSize, $colorOff, $iconOff, $iconOn: $iconOff, $colorOn: $colorOff) {
	$topMargin: #{$iconSize * -0.5}px;
	$horizontalMargin: #{($iconSpace - $iconSize) / 2}px;
	position: relative;
	padding-left: #{$iconSpace}px;

	&::before {
		@include oIconsGetIcon($iconOff, $colorOff, $iconSize, $iconset-version: 1);
		content: ' ';
		position: absolute;
		top: 50%;
		left: $horizontalMargin;
		margin: $topMargin $horizontalMargin 0 0;
	}

	&[aria-pressed="true"]::before {
		@include oIconsGetIcon($iconOn, $colorOn, $iconSize, $iconset-version: 1);
	}

	&[aria-pressed="true"]:hover::before {
		@include oIconsGetIcon($iconOn, $colorOff, $iconSize, $iconset-version: 1);
	}
}

@mixin nUiMyftCommon () {
	.myft-ui,
	.n-myft-ui {
		display: inline-block;
	}

	.n-myft-ui__button {
		@include oButtons();

		&:focus {
			outline: 3px solid getColor('teal-40');
			outline-offset: 3px;
		}
	}

	.n-myft-ui__button--viewport-large {
		display: none;
		@include oGridRespondTo('L') {
			display: inline-block;
		}
	}

	.n-myft-ui__button--inverse {
		@include oButtonsTheme(inverse);
	}

	.n-myft-ui__button--uncolored {
		@include oButtonsTheme(mono);
	}

	.n-myft-ui__button--medium {
		@include oButtonsSize(default);
	}

	.n-myft-ui__button--big {
		@include oButtonsSize(big);
	}

	.n-myft-ui__fieldset {
		border: 0;
		margin: 0;
		padding: 0;
	}

	.n-myft-ui__legend {
		@include oTypographySans(0, $progressive: true);
		margin-bottom: 10px;
	}

	.n-myft-ui--instant {
		position: relative;

		.n-myft-ui__button {
			@include buttonWithIcon(26, 24, getColor('teal-40'), 'mail', 'mail', getColor('white'));
		}

		.n-myft-ui__button--inverse {
			@include buttonWithIcon(26, 24, getColor('teal-80'), 'mail', 'mail', getColor('white'));
		}
	}

	.js .myft-ui__core-text {
		display: none;
	}

	.myft-ui__logo {
		border: 0;
	}

	.myft-ui__icon {
		@include nGetImage('logo', 'brand-myft', white, 16);
		width: 34px;
		margin: 0 8px -5px;
	}
}
